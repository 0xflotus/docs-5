---
title: 'Prisma schema API reference'
metaTitle: 'Prisma schema (Reference)'
metaDescription: 'The Prisma schema is the main configuration file when using Prisma. It is typically called schema.prisma and contains your database connection and data model.'
---

## `datasource`

A `datasource` block accepts the following fields:

| Name       | Required | Type                                   | Description                                                                                                            |
| ---------- | -------- | -------------------------------------- | ---------------------------------------------------------------------------------------------------------------------- |
| `provider` | **Yes**  | Enum (`postgresql`, `mysql`, `sqlite`) | Describes which data source connector to use.                                                                          |
| `url`      | **Yes**  | String (URL)                           | Connection URL including authentication info. Most connectors use the syntax provided by the database, [learn more](). |

### Examples

#### Specify a PostgreSQL data source

In this example, the target database is available with the following credentials:

- User: `johndoe`
- Password: `mypassword`
- Host: `localhost`
- Post: `5432`
- Database name: `mydb`
- Schema name: `public`

```prisma
datasource postgresql {
  provider = "postgresql"
  url      = "postgresql://johndoe:mypassword@localhost:5432/mydb?schema=public"
}
```

Learn more about PostgreSQL connection strings [here](../../database-connectors/postgresql).

#### Specify a MySQL data source

In this example, the target database is available with the following credentials:

- User: `johndoe`
- Password: `mypassword`
- Host: `localhost`
- Post: `5432`
- Database name: `mydb`

```prisma
datasource mysql {
  provider = "mysql"
  url      = "mysql://johndoe:mypassword@localhost:5432/mydb"
}
```

Learn more about MySQL connection strings [here](../../database-connectors/mysql).

#### Specify a SQLite data source

In this example, the target database is located in a file called `dev.db`:

```prisma
datasource sqlite {
  provider = "sqlite"
  url      = "file:./dev.db"
}
```

Learn more about SQLite connection strings [here](../../database-connectors/sqlite).

#### Specify a PostgreSQL data source via an environment variable

In this example, the target database is available with the following credentials:

- User: `johndoe`
- Password: `mypassword`
- Host: `localhost`
- Post: `5432`
- Database name: `mydb`
- Schema name: `public`

```prisma
datasource postgresql {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}
```

## `generator`

### Fields

A `generator` block accepts the following fields:

| Name            | Required | Type                                            | Description                                                                                                                      |
| --------------- | -------- | ----------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------- |
| `provider`      | **Yes**  | String (file path) or Enum (`prisma-client-js`) | Describes which generator to use. This can point to a file that implements a generator or specify a built-in generator directly. |
| `output`        | No       | String (file path)                              | Determines the location for the generated client, [learn more](). **Default**: `node_modules/@prisma/client`                     |
| `binaryTargets` | No       | List of Enums (see below0)                      | Specify the OS on which the Prisma Client will run to ensure binary compatibility of the [query engine](). **Default**: `native` |

#### `binaryTargets`

The following tables list all supported operating systems with the name of the binary file to specify in `binaryTargets`.

##### Mac OS

| Build OS | Build name |
| :------- | :--------- |
| Mac OS   | `darwin`   |

##### Windows

| Build OS | Build name |
| :------- | :--------- |
| Windows  | `windows`  |

##### Linux (Alpine)

| Build OS | Build name   |
| :------- | :----------- |
| Alpine   | `linux-musl` |

##### Linux (Debian)

| Build OS           | Build name             | OpenSSL |
| :----------------- | :--------------------- | :-----: |
| Debian 8 (Jessie)  | `debian-openssl-1.0.x` |  1.0.x  |
| Debian 9 (Stretch) | `debian-openssl-1.1.x` |  1.1.x  |
| Debian 10 (Jessie) | `debian-openssl-1.1.x` |  1.1.x  |

##### Linux (Ubuntu)

| Build OS              | Build name             | OpenSSL |
| :-------------------- | :--------------------- | :-----: |
| Ubuntu 14.04 (trusty) | `debian-openssl-1.0.x` |  1.0.x  |
| Ubuntu 16.04 (xenial) | `debian-openssl-1.0.x` |  1.0.x  |
| Ubuntu 18.04 (bionic) | `debian-openssl-1.1.x` |  1.1.x  |
| Ubuntu 19.04 (disco)  | `debian-openssl-1.1.x` |  1.1.x  |

##### Linux (CentOS)

| Build OS | Build name           | OpenSSL |
| :------- | :------------------- | :-----: |
| CentOS 6 | `rhel-openssl-1.0.x` |  1.0.x  |
| CentOS 7 | `rhel-openssl-1.0.x` |  1.0.x  |

##### Linux (Fedora)

| Build OS  | Build name           | OpenSSL |
| :-------- | :------------------- | :-----: |
| Fedora 28 | `rhel-openssl-1.1.x` |  1.1.x  |
| Fedora 29 | `rhel-openssl-1.1.x` |  1.1.x  |
| Fedora 30 | `rhel-openssl-1.1.x` |  1.1.x  |

##### Linux (Linux Mint)

| Build OS      | Build name             | OpenSSL |
| :------------ | :--------------------- | :-----: |
| Linux Mint 18 | `debian-openssl-1.0.x` |  1.0.x  |
| Linux Mint 19 | `debian-openssl-1.1.x` |  1.1.x  |

##### Linux (Arch Linux)

| Build OS              | Build name             | OpenSSL |
| :-------------------- | :--------------------- | :-----: |
| Arch Linux 2019.09.01 | `debian-openssl-1.1.x` |  1.1.x  |

### Examples

#### Specify the `prisma-client-js` generator with the default `output` and `binaryTargets`

```prisma
generator client {
  provider = "prisma-client-js"
}
```

Note that the above `generator` definition is **equivalent** to the following because it uses the default values for `output` and `binaryTargets`:

```prisma
generator client {
  provider      = "prisma-client-js"
  output        = "node_modules/@prisma/client"
  binaryTargets = ["native"]
}
```

#### Specify a custom `output` location for Prisma Client

```prisma
generator client {
  provider = "prisma-client-js"
  output   = "../src/generated/client"
}
```

#### Specify custom `binaryTargets` to ensure compatibility with the OS

This example shows how to configure Prisma Client to run on `Ubuntu 19.04 (disco)` based on the table [above](#linux-ubuntu).

```prisma
generator client {
  provider      = "prisma-client-js"
  binaryTargets = ["debian-openssl-1.1.x"]
}
```

#### Specify a `provider` pointing to some custom generator implementation

This example shows how to use a custom generator that's located in a directory called `my-generator`.

```prisma
generator client {
  provider      = "./my-generator"
}
```

## `model`

Defines a [Prisma model](models)

## `model` field scalar types

The _data source connector_ determines what _native database type_ each of these types map to. Similarly, the _generator_ determines what _type in the target programming language_ each of these types map to.

Expand below to see the mappings per connector and generator.

<details><summary>Scalar mapping to connectors and generators</summary>
<br />

**Connectors**

| Type       | PostgreSQL  | MySQL       | SQLite    | Raw JSON  |
| ---------- | ----------- | ----------- | --------- | --------- |
| `String`   | `text`      | `TEXT`      | `TEXT`    | `string`  |
| `Boolean`  | `boolean`   | `BOOLEAN`   | n/a       | `boolean` |
| `Int`      | `integer`   | `INT`       | `INTEGER` | `number`  |
| `Float`    | `real`      | `FLOAT`     | `REAL`    | `number`  |
| `DateTime` | `timestamp` | `TIMESTAMP` | n/a       | n/a       |
| `Json`     | `json` / `jsonb`      | `JSON`      | n/a       | `object`  |

**Generators**

| Type       | Prisma Client |
| ---------- | ------------- |
| `String`   | `string`      |
| `Boolean`  | `boolean`     |
| `Int`      | `number`      |
| `Float`    | `number`      |
| `DateTime` | `Date`        |
| `JSON`     | `object`      |

</details>

### `String`

Variable length text.

### `Boolean`

True or false value

### `Int`

Integer value

### `Float`

Floating point number

### `DateTime`

Timestamp

### `Json`

A JSON object


## `model` field attributes

Here's an overview of the _types_ that are used in the attribute signatures:

| Type               | Description                                   | Example                                |
| :----------------- | :-------------------------------------------- | :------------------------------------- |
| `FieldReference[]` | An array of [field](models#fields) names      | `[id]`, `[firstName, lastName]`        |
| `String`           | A variable length text in double quotes       | `""`, `"Hello World"`, `"Alice"`       |
| `Expression`       | An expression that can be evaluated by Prisma | `42.0`, `""`, `Bob`, `now()`, `cuid()` |


### `@id`

Defines a single-field ID on the model.

#### Database types

`PRIMARY KEY`

#### Arguments

N/A

#### Signature

```
@id
```

#### Examples

### `@@id`

Defines a multi-field ID on the model.

#### Database types

`PRIMARY KEY`

#### Arguments 

A list of field references

#### Signature

```
@@id(_ fields: FieldReference[])
```

#### Examples

### `@default`

Defines a default value for this field. `@default` takes an expression as an argument.

#### Database types

`DEFAULT`

#### Arguments 

An expression (e.g. `5`, `true`, `now()`)

#### Signature

```
@default(_ expression: Expression)
```

#### Examples

### `@unique`

Defines a unique constraint for this field.

#### Database types

`UNIQUE`

#### Arguments 

N/A

#### Signature 

```
@unique
```

#### Examples

### `@@unique`

Defines a compound unique constraint for the specified fields.

#### Database types

`UNIQUE`

#### Arguments 

A list of field references.

#### Signature

```
@@unique(_ fields: FieldReference[])
```

### `@@index`

Defines an index.

#### Database types

`INDEX`

#### Arguments 

A list of field references.

#### Signature

```
@@index(_ fields: FieldReference[])
```

### `@relation`

Defines meta information about the relation. [Learn more](relations#the-relation-attribute).

#### Database types

`FOREIGN KEY` / `REFERENCES`

#### Arguments 

A name and/or a list of field references.

#### Signature

```
@relation(_ name: String?, fields: FieldReference[]?, references: FieldReference[]?)
```

### `@map`

Maps a field name from the Prisma schema to a different column name.

#### Database types

N/A

#### Arguments 

The name of the target database column.

#### Signature

```
@map(_ name: String)
```

### `@@map`

Maps a model name from the Prisma schema to a different table name. 

#### Database types

N/A

#### Arguments 

The name of the target database table.

#### Signature

```
@@map(_ name: String)
```

### `@updatedAt`

Automatically stores the time when a record was last updated.

#### Database types

N/A

#### Arguments

N/A

#### Signature

```
@updatedAt
```

### Arguments

> **Note**: The leading underscore in a signature means the _argument name_ can be omitted (read more [below](#arguments)).

Here's an overview of the _types_ that are used in the attribute signatures:

| Type               | Description                                   | Example                                |
| :----------------- | :-------------------------------------------- | :------------------------------------- |
| `FieldReference[]` | An array of [field](models#fields) names      | `[id]`, `[firstName, lastName]`        |
| `String`           | A variable length text in double quotes       | `""`, `"Hello World"`, `"Alice"`       |
| `Expression`       | An expression that can be evaluated by Prisma | `42.0`, `""`, `Bob`, `now()`, `cuid()` |


Note that some attributes take arguments. Arguments in attributes are always named, but in most cases the argument _name_ can be omitted.

The following pairs of default values are all equivalent.

**The name of the `fields` argument on the `@@id` attribute can be omitted**

```prisma
@@id(fields: [title, author])
@@id([title, author])
```

**The name of the `value` argument on the `@default` attribute can be omitted**

```prisma
id Int @id @default(value: autoincrement())
id Int @id @default(autoincrement())
```

**The name of the `fields` argument on the `@@unique` attribute can be omitted**

```prisma
@@unique(fields: [title, author])
@@unique([title, author])
```

## `model` field attribute arguments

### `fields` (`FieldReference[]`)

**The name of the `fields` argument on the `@@index` attribute can be omitted**

```prisma
@@index(fields: [title, author])
@@index([title, author])
```

### `value`

### `references`

**The name of the `name` argument on the `@relation` attribute can be omitted (`references` is required though)**

```prisma
@relation(name: "UserOnPost", references: [id])
@relation("UserOnPost", references: [id])

// or

@relation(name: "UserOnPost")
@relation("UserOnPost")
```



### `name`

**The name of the `name` argument on the `@map` and `@@map` attributes can be omitted**

```prisma
@map(name: "is_admin")
@map("is_admin")

// and

@@map(name: "users")
@@map("users")
```

## `model` field attribute functions

## `enum`

Defines an [enum](#enums) (only available if enums are supported natively by your database)

### Remarks

#### Naming enums

- Enum names must start with a letter (they are typically spelled in [PascalCase](http://wiki.c2.com/?PascalCase))
- Enums must use the singular form (e.g. `Role` instead of `role`, `roles` or `Roles`).

Technically, an enum can be named anything that adheres to this regular expression:

```
[A-Za-z][A-Za-z0-9_]*
```

### Examples

#### Specify an `enum` with two possible values

```prisma
enum Role {
  USER
  ADMIN
}

model User {
  id    Int   @id @default(autoincrement())
  role  Role
}
```

#### Specify an `enum` with two possible values and set a default value

```prisma
enum Role {
  USER
  ADMIN
}

model User {
  id    Int   @id @default(autoincrement())
  role  Role  @default(USER)
}
```

> **Note**: The leading underscore in the signature means that the argument name can be omitted.

| Argument     | Type               | Required                                                                              | Description                                                                                                             | Example                                               |
| :----------- | :----------------- | :------------------------------------------------------------------------------------ | :---------------------------------------------------------------------------------------------------------------------- | :---------------------------------------------------- |
| `name`       | `String`           | Sometimes (e.g. to disambiguate a relation)                                           | Defines the name of the relationship. In an m-n-relation, it also determines the name of the underlying relation table. | `"CategoryOnPost"`, `"MyRelation"`                    |
| `fields`     | `FieldReference[]` | On [annotated](#annotated-relation-fields-and-relation-scalar-fields) relation fields | A list of [fields](models#fields) of the _current_ model                                                                | `["authorId"]`, `["authorFirstName, authorLastName"]` |
| `references` | `FieldReference[]` | On [annotated](#annotated-relation-fields-and-relation-scalar-fields) relation fields | A list of [fields](models#fields) of the model on _the other side of the relation_                                      | `["id"]`, `["firstName, lastName"]`                   |
